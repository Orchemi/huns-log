---
title: "[Vue] Vue Router"

categories:
  - Vue

tags:
  - [SPA, Vue]

date: 2022-05-09T18:00
last_modified_at: 2022-05-09T18:00

author_profile: true

toc: true
toc_label: "ëª©ì°¨"
toc_icon: "bars"
toc_sticky: true
published: true
---

## Vue Router

### routerë€?

- router : ìœ„ì¹˜ì— ëŒ€í•œ ìµœì ì˜ ê²½ë¡œë¥¼ ì§€ì •, ì´ ê²½ë¡œë¥¼ ë”°ë¼ ë°ì´í„°ë¥¼ ë‹¤ìŒ ì¥ì¹˜ë¡œ ì „í–¥ì‹œí‚¤ëŠ” ì¥ì¹˜
- routeì— ì»´í¬ë„ŒíŠ¸ë¥¼ ë§¤í•‘í•œ í›„, ì–´ë–¤ ì£¼ì†Œì—ì„œ ë Œë”ë§í•  ì§€ ì•Œë ¤ì¤Œ
- SPA ìƒì—ì„œ ë¼ìš°íŒ…ì„ ì‰½ê²Œ ê°œë°œí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ ì œê³µ

<br />

### ì„¤ì¹˜ ë° ì‹œì‘

> Vue Router plugin ì„¤ì¹˜

```bash
$ vue add router
```

ì´í›„ commit ì—¬ë¶€ì™€ history mode ì‚¬ìš© ì—¬ë¶€ ëª¨ë‘ 'YES' ì²´í¬

<br />

> ì£¼ì˜ì‚¬í•­ ğŸ“¢

- ê¸°ì¡´ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë˜ ë„ì¤‘ì— ì¶”ê°€í•˜ë©´ App.vueë¥¼ ë®ì–´ì”€
- í”„ë¡œì íŠ¸ ë‚´ì—ì„œ router ì¶”ê°€ ì „ì— í•„ìš”í•œ ê²½ìš° íŒŒì¼ì„ ë°±ì—…

<br />

> ë³€í™” â­

- App.vueì— **router-link ì»´í¬ë„ŒíŠ¸**ì™€ **router-view ì»´í¬ë„ŒíŠ¸** ìƒì„±
- router/index.js ìƒì„±
- views ë””ë ‰í† ë¦¬ ìƒì„±

<br />

### index.js

- ë¼ìš°íŠ¸ì— ê´€ë ¨ëœ ì •ë³´ ë° ì„¤ì • ì‘ì„±

```js
{%- raw -%}
import Vue from "vue";
import VueRouter from "vue-router";
import HomeView from "../views/HomeView.vue";

Vue.use(VueRouter);

const routes = [
  {
    path: "/",
    name: "home",
    component: HomeView,
  },
  {
    path: "/about",
    name: "about",
    component: AboutView,
  },
];
{% endraw -%}
```

<br />

### router-link

```js
{%- raw -%}
<router-link to="/">Home</router-link> |
<router-link to="/about">About</router-link>
{% endraw -%}
```

- ì‚¬ìš©ì ë„¤ë¹„ê²Œì´ì…˜ì„ ê°€ëŠ¥ì¼€ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸
- ëª©í‘œ ê²½ë¡œëŠ” **to** propìœ¼ë¡œ ì§€ì •
- HTML5 íˆìŠ¤í† ë¦¬ ëª¨ë“œì—ì„œ router-linkëŠ” í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì°¨ë‹¨ â†’ ë¸Œë¼ìš°ì €ê°€ í˜ì´ì§€ reload X

<br />

> a íƒœê·¸ì™€ì˜ ì°¨ì´ì 

- ê¸°ì¡´ a íƒœê·¸ëŠ” GET ìš”ì²­ì„ ë³´ëƒ„
- router-link ì—­ì‹œ a íƒœê·¸ì´ì§€ë§Œ **ê¸°ë³¸ GET ìš”ì²­ì„ ë³´ë‚´ëŠ” ì´ë²¤íŠ¸ ì œê±°**í•œ í˜•íƒœë¡œ êµ¬ì„±

<br />

### router-view

```js
{%- raw -%}
<router-view/>
{% endraw -%}
```

- ì£¼ì–´ì§„ routeì— ëŒ€í•´ ì¼ì¹˜í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” ì»´í¬ë„ŒíŠ¸
- ì‹¤ì œ componentê°€ DOMì— ë¶€ì°©ë˜ì–´ ë³´ì´ëŠ” ìë¦¬ë¥¼ ì˜ë¯¸
- router-linkë¥¼ í´ë¦­í•˜ë©´ í•´ë‹¹ ê²½ë¡œì™€ ì—°ê²°ë˜ì–´ ìˆëŠ” index.jsì— ì •ì˜í•œ ì»´í¬ë„ŒíŠ¸ê°€ ìœ„ì¹˜

<br />

## History mode

- HTML HIstory APIë¥¼ ì‚¬ìš©í•´ routerë¥¼ êµ¬í˜„í•œ ê²ƒ
- **ë¸Œë¼ìš°ì €ì— íˆìŠ¤í† ë¦¬ëŠ” ë‚¨ê¸°ì§€ë§Œ ì‹¤ì œ í˜ì´ì§€ëŠ” ì´ë™í•˜ì§€ ì•ŠëŠ” ê¸°ëŠ¥ ì§€ì›**
- í˜ì´ì§€ reload ì—†ì´ URLì„ íƒìƒ‰ ê°€ëŠ¥
- SPAì˜ ë‹¨ì  ì¤‘ í•˜ë‚˜ì¸ "URLì´ ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤"ëŠ” ì ì„ í•´ê²°

<br />

> cf) History API

- DOMì˜ **Window ê°ì²´**ëŠ” **history ê°ì²´**ë¥¼ í†µí•´ **ë¸Œë¼ìš°ì €ì˜ ì„¸ì…˜ ê¸°ë¡ì— ì ‘ê·¼**í•  ìˆ˜ ìˆëŠ” ë°©ë²• ì œê³µ
- history ê°ì²´ì˜ ê¸°ëŠ¥
  - ì‚¬ìš©ìë¥¼ ìì‹ ì˜ ë°©ë¬¸ ê¸°ë¡ ì•ê³¼ ë’¤ë¡œ ë³´ëƒ„
  - ê¸°ë¡ì˜ íŠ¹ì • ì§€ì ìœ¼ë¡œ ì´ë™
  - ì´ì™¸ ì—¬ëŸ¬ ìœ ìš©í•¨ ë©”ì„œë“œì™€ ì†ì„± ì¡´ì¬

<br />

## Named Routes

- ì´ë¦„ì„ ê°€ì§€ëŠ” route
- ëª…ëª…ëœ ê²½ë¡œë¡œ ì´ë™í•˜ë ¤ë©´ ê°ì²´ë¥¼ vue-router ì»´í¬ë„ŒíŠ¸ ìš”ì†Œì˜ propì— ì „ë‹¬
- ê°ì²´ ì „ë‹¬ì€ JS ë¬¸ë²•ì´ë¯€ë¡œ **v-bindë¥¼ ì´ìš©** 

```js
{%- raw -%}
// router/index.js

...
const routes = [
  {
    path: "/",
    name: "home", ğŸ”†
    component: HomeView,
  },
  {
    path: "/about",
    name: "about", ğŸ”†
    component: AboutView,
  },
];
{% endraw -%}
```

```js
{%- raw -%}
<!-- App.vue -->
<nav>
  <!-- <router-link to="/">Home</router-link> |
  <router-link to="/about">About</router-link> -->
  <router-link :to="{ name: 'home' }">Home</router-link> |
  <router-link :to="{ name: 'about' }">About</router-link>
</nav>
{% endraw -%}
```

<br />

## í”„ë¡œê·¸ë˜ë° ë°©ì‹ ë„¤ë¹„ê²Œì´ì…˜

- ë„¤ë¹„ê²Œì´ì…˜ì€ ë‹¤ìŒì˜ ë°©ì‹ì„ ì‚¬ìš©í•˜ì—¬ ì •ì˜í•œë‹¤.

<br />

> ê°€. ì„ ì–¸ì  ë°©ì‹

- `<router-link>`ë¥¼ ì‚¬ìš©í•˜ì—¬ **ì„ ì–¸ì  ë°©ì‹**ìœ¼ë¡œ íƒìƒ‰ì„ ìœ„í•œ a íƒœê·¸ ìƒì„± ë°©ì‹
- `<router-link to="...">`

<br />

> ë‚˜. í”„ë¡œê·¸ë˜ë° ë°©ì‹

- routerì˜ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ **í”„ë¡œê·¸ë˜ë° ë°©ì‹**ìœ¼ë¡œ ê°™ì€ ì‘ì—… ìˆ˜í–‰ ê°€ëŠ¥
- $router.push(...)

<br />

### í”„ë¡œê·¸ë˜ë° ë°©ì‹? â­

- Vue ì¸ìŠ¤í„´ìŠ¤ ë‚´ë¶€ì—ì„œ router ì¸ìŠ¤í„´ìŠ¤ì— **$router**ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìŒ
- ë‹¤ë¥¸ URLë¡œ ì´ë™í•˜ë ¤ë©´ this.$router.pushë¥¼ í˜¸ì¶œ
- ìƒˆë¡œìš´ í•­ëª©ì„ **history stack**ì— ë„£ê¸° ë•Œë¬¸ì— ì´ì „ URLë¡œ ì´ë™ ê°€ëŠ¥
- `<router-link>`ë¥¼ í´ë¦­í•  ë•Œ ë‚´ë¶€ì ìœ¼ë¡œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ

<br />

### ì‘ì„± ì¸ì ì˜ˆì‹œ â­

```js
{%- raw -%}
// literal string path
router.push('home')

// object
router.push({ path: 'home' })

// named route â­
router.push({ name: 'user', params: { userId: '123' } })

// with query, resulting in /register?plan=private â­
router.push({ path: 'register', query: { plan: 'private' } })
{% endraw -%}
```

<br />

### ì½”ë“œ ì˜ˆì‹œ

> About routeì—ì„œ Home routeë¡œ ì´ë™

```js
{%- raw -%}
...
moveToHome: function () {
  // this.$router.push('/')
  this.$router.push({ name: 'home' })
}
{% endraw -%}
```

<br />

## Dynamic Route Matching

- **ë™ì  ì¸ì** ì „ë‹¬
- ì£¼ì–´ì§„ íŒ¨í„´ì„ ê°€ì§„ routeë¥¼ ë™ì¼í•œ ì»´í¬ë„ŒíŠ¸ì— ë§¤í•‘í•´ì•¼ í•˜ëŠ” ê²½ìš°
- ëª¨ë“  Userì— ëŒ€í•´ ë™ì¼í•œ ë ˆì´ì•„ì›ƒì„ ê°€ì§€ì§€ë§Œ, ë‹¤ë¥¸ User IDë¡œ ë Œë”ë§ë˜ì–´ì•¼ í•˜ëŠ” User ì»´í¬ë„ŒíŠ¸ ì˜ˆì‹œ

```js
{%- raw -%}
const routes = [
  {
    path: '/user/:userId', ğŸ”†
    name: 'User',
    component: User,
  }
]
{% endraw -%}
```

- ë™ì  ì¸ìë¥¼ **:param** ë°©ì‹ìœ¼ë¡œ ë¶™ì„
- ì»´í¬ë„ŒíŠ¸ì—ì„œ **this.$route.params**ë¡œ ì‚¬ìš© ê°€ëŠ¥
- ì¦‰, í•´ë‹¹ ë™ì  ì¸ìë¥¼ ê°€ì§„ ì»´í¬ë„ŒíŠ¸ëŠ” this.$route.params(object)ë¡œ ë°ì´í„°ë¡œ ì‚¬ìš© ê°€ëŠ¥

<br />

> ì˜ˆì‹œ 1

- pattern : /user/:userName 
- matched path : /user/john
- $route.params : { username: 'john' }

<br />

> ì˜ˆì‹œ 2

- pattern : /user/:userName/article/:articleId
- matched path : /user/john/article/12
- $route.params : { username: 'john', articleId: 12 }

<br />

## componentsì™€ views

- ê¸°ë³¸ì ìœ¼ë¡œ ì‘ì„±ëœ êµ¬ì¡°ì—ì„œ components í´ë”ì™€ views í´ë” ë‚´ë¶€ì— ê°ê¸° ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ ì¡´ì¬
- ì»´í¬ë„ŒíŠ¸ë¥¼ ì‘ì„±í•  ë•Œ ì •í•´ì§„ êµ¬ì¡°ê°€ ìˆëŠ” ê²ƒì€ ì•„ë‹˜
- ì£¼ë¡œ ì•„ë˜ì™€ ê°™ì´ êµ¬ì¡°í™”í•˜ì—¬ í™œìš©

<br />

> App.vue

- ìµœìƒìœ„ ì»´í¬ë„ŒíŠ¸

<br />

> views/

- **router(index.js)ì— ë§¤í•‘ë˜ëŠ” ì»´í¬ë„ŒíŠ¸**ë“¤ì˜ í´ë”
- ex. App ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— AboutView & HomeView ì»´í¬ë„ŒíŠ¸ ë“±ë¡
- pages ë¼ê³  ìƒê°í•˜ë©´ ì¢‹ìŒ

<br />

> components/

- **routerì— ë§¤í•‘ëœ ì»´í¬ë„ŒíŠ¸ "ë‚´ë¶€ì— ì‘ì„±"í•˜ëŠ” ì»´í¬ë„ŒíŠ¸**ë¥¼ ëª¨ì•„ë‘ëŠ” í´ë”
- ex. Home ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— HelloWorld ì»´í¬ë„ŒíŠ¸ ë“±ë¡

<br />

## Vue Routerê°€ í•„ìš”í•œ ì´ìœ 

### SPAì˜ ë“±ì¥

> SPA ë“±ì¥ ì´ì „

- ì„œë²„ê°€ ëª¨ë“  ë¼ìš°íŒ… í†µì œ
- ìš”ì²­ ê²½ë¡œì— ë§ëŠ” HTML ì œê³µ

<br />

> SPA ë“±ì¥ ì´í›„

- ì„œë²„ëŠ” index.html í•˜ë‚˜ë§Œ ì œê³µ
- ì´í›„ ëª¨ë“  ì²˜ë¦¬ëŠ” HTML ìœ„ì—ì„œ JS ì½”ë“œë¥¼ í™œìš©í•´ ì§„í–‰
- **ìš”ì²­ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ ë” ì´ìƒ ì„œë²„ê°€ í•˜ì§€ ì•ŠìŒ**

<br />

### ë¼ìš°íŒ… ì²˜ë¦¬ ì°¨ì´

> SSR

- ë¼ìš°íŒ…ì— ëŒ€í•œ ê²°ì •ê¶Œì€ **ì„œë²„**

<br />

> CSR

- í´ë¼ì´ì–¸íŠ¸ëŠ” ë” ì´ìƒ ì„œë²„ë¡œ ìš”ì²­ì„ ë³´ë‚´ì§€ ì•Šê³  ì‘ë‹µë°›ì€ HTML ë¬¸ì„œ ì•ˆì—ì„œ ì£¼ì†Œê°€ ë³€ê²½ë˜ë©´ íŠ¹ì • ì£¼ì†Œì— ë§ëŠ” ì»´í¬ë„ŒíŠ¸ ë Œë”ë§
- ë¼ìš°íŒ…ì— ëŒ€í•œ ê²°ì •ê¶Œì€ **í´ë¼ì´ì–¸íŠ¸**
