---
title: "[TS] ìœ í‹¸ë¦¬í‹° íƒ€ì…(Utility Types)"

categories:
  - Effective TS

tags:
  - [FE Language, TS, Effective TS]

author_profile: true

date: 2023-11-02T14:00
last_modified_at: 2023-11-02T14:00

toc: true
toc_label: "ëª©ì°¨"
toc_icon: "bars"
toc_sticky: true
---

## Utility Types

> Utility Typesì´ë€?

ì¡´ì¬í•˜ëŠ” Typeë“¤ì„ ê¸°ë°˜ìœ¼ë¡œ íƒ€ì… ë³€í™˜ì„ ë³´ë‹¤ ì‰½ê²Œ í•˜ê¸° ìœ„í•´ ë³€í˜•í•´ì„œ ì‚¬ìš©í•˜ëŠ” íƒ€ì…

<br />

## ì´ˆê¸‰

### `Awaited<Type>`

> released: 4.5

- `async-await` ë˜ëŠ” `.then()` ë“±ì—ì„œ ë°œìƒí•˜ëŠ” Promise íƒ€ì…ì„ â€˜unwrapâ€™í•  ë•Œ ì‚¬ìš©

```tsx
type A = Awaited<Promise<string>>;   
// type A = string
 
type B = Awaited<Promise<Promise<number>>>;
// type B = number
 
type C = Awaited<boolean | Promise<number>>; 
// type C = number | boolean
```

<br />

### `Record<Keys, Type>`

> released: 2.1

- í”„ë¡œí¼í‹° í‚¤ê°€ Keysì´ê³  í”„ë¡œí¼í‹° ê°’ì´ Typeì¸ ê°ì²´ ìœ í˜•ì„ ìƒì„±
- ì´ ìœ í‹¸ë¦¬í‹°ëŠ” íƒ€ì…ì˜ í”„ë¡œí¼í‹°ë¥¼ ë‹¤ë¥¸ íƒ€ì…ì— ë§¤í•‘í•˜ëŠ” ë° ì‚¬ìš©

```tsx
interface CatInfo {
  age: number;
  breed: string;
}
 
type CatName = "miffy" | "boris" | "mordred";
 
const cats: Record<CatName, CatInfo> = {
  miffy: { age: 10, breed: "Persian" },
  boris: { age: 5, breed: "Maine Coon" },
  mordred: { age: 16, breed: "British Shorthair" },
};
```

<br />

### `Pick<Type, Keys>`

> released: 2.1

- íƒ€ì…ì—ì„œ íŠ¹ì • ì†ì„±(ë“¤)ì„ â€˜pickâ€™í•´ì„œ ë¶€ë¶„ì ìœ¼ë¡œ ì‚¬ìš©í•  ë•Œ ì‚¬ìš©
- ë‹¨ì¼ ì†ì„±ì„ ë½‘ì„ ë•Œì—ëŠ” string literal, ì—¬ëŸ¬ ì†ì„±ë“¤ì„ ë½‘ì„ ë•Œì—ëŠ” unionì„ ì‚¬ìš©

```tsx
// ëŒ€ìƒ íƒ€ì…
interface Todo {
  title: string;
  description: string;
  completed: boolean;
}

// Todo íƒ€ì…ì—ì„œ title, completed ì†ì„±ë§Œ ë½‘ì•„ êµ¬ì„±í•œ ìœ í‹¸ë¦¬í‹° íƒ€ì…
type TodoPreview = Pick<Todo, "title" | "completed">;
 
const todo: TodoPreview = {
  title: "Clean room",
  completed: false,
};
```

<br />

### `Extract<Type, Union>`

> released: 2.8

- `Type`ìœ¼ë¡œë¶€í„° `Union`ì— í•´ë‹¹í•˜ëŠ” unionì„ ë½‘ì•„ë‚¼ ë•Œ ì‚¬ìš©
- `Pick`ì´ interface ë²„ì „ì´ë¼ë©´, `Extract`ëŠ” ìœ ë‹ˆì˜¨ ë²„ì „

```tsx
type T0 = Extract<"a" | "b" | "c", "a" | "f">;  
// type T0 = "a"

type T1 = Extract<string | number | (() => void), Function>;  
// type T1 = () => void

type Shape =
  | { kind: "circle"; radius: number }
  | { kind: "square"; x: number }
  | { kind: "triangle"; x: number; y: number }; 

type T2 = Extract<Shape, { kind: "circle" }>  
// type T2 = {
//     kind: "circle";
//     radius: number;
// }
```

<br />

### `Omit<Type, Keys>`

> released: 2.1

- íƒ€ì…ì—ì„œ íŠ¹ì • ì†ì„±(ë“¤)ì„ ì œê±°í•œ ë‚˜ë¨¸ì§€ë¥¼ ì‚¬ìš©í•  ë•Œ ì‚¬ìš©
- ì¦‰, Pickê³¼ ë°˜ëŒ€ë˜ëŠ” ìœ í‹¸ë¦¬í‹° íƒ€ì…

```tsx
// ì†ì„± ì œê±° ëŒ€ìƒ íƒ€ì…
interface Todo {
  title: string;
  description: string;
  completed: boolean;
  createdAt: number;
}

// Todo íƒ€ì…ì—ì„œ description ì†ì„±ì„ ì œê±°í•œ ìœ í‹¸ë¦¬í‹° íƒ€ì…
type TodoPreview = Omit<Todo, "description">;
 
const todo: TodoPreview = {
  title: "Clean room",
  completed: false,
  createdAt: 1615544252770,
};

// Todo íƒ€ì…ì—ì„œ completed, createdAt ì†ì„±ì„ ì œê±°í•œ ìœ í‹¸ë¦¬í‹° íƒ€ì…
type TodoInfo = Omit<Todo, "completed" | "createdAt">;
 
const todoInfo: TodoInfo = {
  title: "Pick up kids",
  description: "Kindergarten closes at 5pm",
};
```

<br />

### `Exclude<UnionType, ExcludeMembers>`

> released: 2.8

- `UnionType`ìœ¼ë¡œë¶€í„° `ExcludeMembers`ë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€
- `Omit`ì´ interface ë²„ì „ì´ë¼ë©´, `Exclude`ëŠ” union ë²„ì „

```tsx
type T0 = Exclude<"a" | "b" | "c", "a">;
// type TO = "b" | "c"

type T1 = Exclude<"a" | "b" | "c", "a" | "b">;
// type T1 = "c"

type T2 = Exclude<string | number | (() => void), Function>;
// type T2 = string | number

type Shape =
  | { kind: "circle"; radius: number }
  | { kind: "square"; x: number }
  | { kind: "triangle"; x: number; y: number };

type T3 = Exclude<Shape, { kind: "circle" }>
// type T3 = { kind: "square"; x: number; } | 
//           { kind: "triangle"; x: number; y: number; }
```

<br />

### `Partial<Type>`

> released: 2.1

- íŠ¹ì • íƒ€ì…ì˜ ì¼ë¶€ ì†ì„±ë“¤ì„ optionalí•˜ê²Œ ì‚¬ìš©í•  ë•Œ ì‚¬ìš©
- ì£¼ì–´ì§„ íƒ€ì…ì˜ ëª¨ë“  ë¶€ë¶„ì§‘í•©ì„ ëŒ€í‘œ

```tsx
interface Todo {
  title: string;
  description: string;
}

// fieldsToUpdate ì¸ìëŠ” Todo íƒ€ì… ì†ì„± ì¤‘ ì¼ë¶€ë¥¼ ê°€ì§„ ê°ì²´ë¼ë©´ ëª¨ë‘ ë§Œì¡±
function updateTodo(todo: Todo, fieldsToUpdate: Partial<Todo>) {
  return { ...todo, ...fieldsToUpdate };
}
 
const todo1 = {
  title: "organize desk",
  description: "clear clutter",
};
 
const todo2 = updateTodo(todo1, {
  description: "throw out trash",
});
```

<br />

## ì¤‘ê¸‰

### `Required<Type>`

> released: 2.8

- íŠ¹ì • íƒ€ì…ì˜ optionalí•œ ì†ì„±ë“¤ì´ ëª¨ë‘ ë°˜ë“œì‹œ ìˆëŠ” íƒ€ì…
- ì¦‰, Partialì˜ ì„±ì§ˆê³¼ëŠ” ë°˜ëŒ€ì˜ ê¸°ëŠ¥

```tsx
interface Props {
  a?: number;
  b?: string;
}
 
const obj: Props = { a: 5 };
 
const obj2: Required<Props> = { a: 5 };
// ğŸš« Property 'b' is missing in type '{ a: number; }' but required in type 'Required<Props>'.
```

<br />

### `Readonly<Type>`

> released: 2.1

- ì´ ìœ í‹¸ë¦¬í‹° íƒ€ì…ìœ¼ë¡œ ì •ì˜ëœ ê²½ìš° ì¬í• ë‹¹(reassign)ë  ìˆ˜ ì—†ìŒì„ ì˜ë¯¸

```tsx
interface Todo {
  title: string;
}
 
const todo: Readonly<Todo> = {
  title: "Delete inactive users",
};
 
todo.title = "Hello";
// ğŸš« Cannot assign to 'title' because it is a read-only property.
```

<br />

- ì´ ìœ í‹¸ë¦¬í‹°ëŠ” ëŸ°íƒ€ì„ì— ì‹¤íŒ¨í•˜ëŠ” í• ë‹¹ í‘œí˜„ì‹ì„ í‘œí˜„í•˜ëŠ” ë° ìœ ìš©
    - (ì˜ˆ: frozen objectì˜ í”„ë¡œí¼í‹°ë¥¼ ì¬í• ë‹¹í•˜ë ¤ê³  í•  ë•Œ)

```tsx
function freeze<Type>(obj: Type): Readonly<Type>;
```

<br />

### `NonNullable<Type>`

> released: 2.8

- íƒ€ì…ìœ¼ë¡œë¶€í„° `null`ê³¼ `undefined`ë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ë¥¼ ë‚˜íƒ€ë‚¼ ë•Œ ì‚¬ìš©

```tsx
type T0 = NonNullable<string | number | undefined>;   
// type T0 = string | number

type T1 = NonNullable<string[] | null | undefined>;     
// type T1 = string[]
```

<br />

### `Parameters<Type>`

> released: 3.1
> 
- í•¨ìˆ˜ íƒ€ì…ì˜ parameterì˜ íƒ€ì…ì„

```tsx
declare function f1(arg: { a: number; b: string }): void;
 
type T0 = Parameters<() => string>;
// type T0 = []

type T1 = Parameters<(s: string) => void>;
// type T1 = [s: string]

type T2 = Parameters<<T>(arg: T) => T>;
// type T2 = [arg: unknown]

type T3 = Parameters<typeof f1>;
// type T3 = [arg: {
//     a: number;
//     b: string;
// }]

type T4 = Parameters<any>;
// type T4 = unknown[]

type T5 = Parameters<never>;
// type T5 = never

type T6 = Parameters<string>;
// ğŸš« Type 'string' does not satisfy the constraint '(...args: any) => any'.
// ğŸš« Parameters<Type>ì˜ Typeì€ í•¨ìˆ˜í˜•ì´ì–´ì•¼ í•¨
// type T6 = never

type T7 = Parameters<Function>;
// ğŸš« Type 'Function' does not satisfy the constraint '(...args: any) => any'.
//    Type 'Function' provides no match for the signature '(...args: any): any'.
// ğŸš« Function íƒ€ì…ì€ parametersì— ëŒ€í•œ signatureê°€ ì—†ì–´ ë¶ˆê°€ëŠ¥
// type T7 = never
```

<br />

### `ReturnType<Type>`

> released: 2.8

- í•¨ìˆ˜ íƒ€ì…ì˜ returnê°’ì— ëŒ€í•œ íƒ€ì…ì„ ì„¤ì •í•  ë•Œ ì‚¬ìš©

```tsx
declare function f1(): { a: number; b: string };
 
type T0 = ReturnType<() => string>;
// type T0 = string

type T1 = ReturnType<(s: string) => void>;  
// type T1 = void

type T2 = ReturnType<<T>() => T>;  
// type T2 = unknown

type T3 = ReturnType<<T extends U, U extends number[]>() => T>;     
// type T3 = number[]

type T4 = ReturnType<typeof f1>;  
// type T4 = {
//     a: number;
//     b: string;
// }

type T5 = ReturnType<any>;     
// type T5 = any

type T6 = ReturnType<never>;     
// type T6 = never

type T7 = ReturnType<string>;
// ğŸš« Type 'string' does not satisfy the constraint '(...args: any) => any'.
// type T7 = any

type T8 = ReturnType<Function>;
// ğŸš« Type 'Function' does not satisfy the constraint '(...args: any) => any'.
//    Type 'Function' provides no match for the signature '(...args: any): any'.     
// type T8 = any
```

<br />

## ê³ ê¸‰

### `InstanceType<Type>`

> released: 2.8

- íƒ€ì…ì˜ ìƒì„±ì í•¨ìˆ˜ì˜ ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…ìœ¼ë¡œ êµ¬ì„±ëœ íƒ€ì…ì„ ìƒì„±í•  ë•Œ ì‚¬ìš©

```tsx
class C {
  x = 0;
  y = 0;
}
 
type T0 = InstanceType<typeof C>;
// typeof C: C classì˜ constructor function
// type T0 = C

type T1 = InstanceType<any>;     
// type T1 = any

type T2 = InstanceType<never>;     
// type T2 = never

type T3 = InstanceType<string>;
// ğŸš« Type 'string' does not satisfy the constraint 'abstract new (...args: any) => any'.
// type T3 = any

type T4 = InstanceType<Function>;
// ğŸš« Type 'Function' does not satisfy the constraint 'abstract new (...args: any) => any'.
//    Type 'Function' provides no match for the signature 'new (...args: any): any'.
// type T4 = any
```

<br />

### `ThisParameterType<Type>`

> released: 3.3

- í•¨ìˆ˜ íƒ€ì…ì˜ `this` parameterì˜ íƒ€ì…ì„ ì¶”ì¶œ
- í•¨ìˆ˜ íƒ€ì…ì— `this` parameterê°€ ì—†ëŠ” ê²½ìš° unknown

```tsx
function toHex(this: Number) {
  return this.toString(16);
}

console.log(toHex.apply(1234)); // "4d2"
 
function numberToString(n: ThisParameterType<typeof toHex>) {
  return toHex.apply(n);
}

console.log(numberToString(1234)); // "4d2"
```

<br />

### `OmitThisParameter<Type>`

> released: 3.3

- Typeì—ì„œ `this` parameterë¥¼ ì œê±°í•  ë•Œ ì‚¬ìš©
- Typeì— ëª…ì‹œì ìœ¼ë¡œ `this` parameterê°€ ì—†ë‹¤ë©´, ìœ í‹¸ë¦¬í‹° íƒ€ì…ì€ Typeê³¼ ë™ì¼
- ê·¸ë ‡ì§€ ì•Šìœ¼ë©´, Typeì—ì„œ `this` parameterê°€ ì—†ëŠ” ìƒˆ í•¨ìˆ˜ íƒ€ì…ì´ ìƒì„±
- genericì€ ì§€ì›Œì§€ê³ , ë§ˆì§€ë§‰ overload signatureë§Œ ìƒˆ í•¨ìˆ˜ ìœ í˜•ìœ¼ë¡œ ì „íŒŒ

```tsx
function toHex(this: Number) {
  return this.toString(16);
}
 
const fiveToHex: OmitThisParameter<typeof toHex> = toHex.bind(5);
 
console.log(fiveToHex()); // 5
```

<br />

## References

- `[TSí•¸ë“œë¶ - utility-types](https://www.typescriptlang.org/docs/handbook/utility-types.html)`