---
title: "[ReactJS] Reactë¡œ ì˜í™” ì„œë¹„ìŠ¤ ë§Œë“¤ê¸° : 10. React Router"

categories:
  - ReactJS CloneCoding

tags:
  - [SPA, ReactJS, ReactJSCloneCoding]

date: 2022-04-08T02:50
last_modified_at: 2022-04-08T02:50

author_profile: true

toc: true
toc_label: "ëª©ì°¨"
toc_icon: "bars"
toc_sticky: true
---

## React Routerì˜ ê°œë…ê³¼ ì¤€ë¹„

> ëª©ì  : ì˜í™” idë¥¼ ì´ìš©í•´ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™

> ë°©ë²• : Reactì—ì„œ Pageë¥¼ ì „í™˜í•˜ê¸° ìœ„í•´ì„œëŠ” **Router**ê°€ í•„ìš”

<br />

> ì‚¬ì „ì¤€ë¹„ : ì˜í™” ìƒì„¸ í˜ì´ì§€ API

- <https://yts.mx/api/v2/movie_details.json?movie_id=34015>
- idê°€ 34015ì¸ ì˜í™”ì˜ ìƒì„¸ ì •ë³´ë¥¼ ë” í™•ì¸í•  ìˆ˜ ìˆëŠ” API

<br />

### routeë€?

- **Route** : ì „í™˜ë˜ëŠ” ê°ê°ì˜ í˜ì´ì§€(ìŠ¤í¬ë¦°)ë“¤
- Router
  - **ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì£¼ì†Œë¥¼ ê°ì§€**í•˜ëŠ” ì—­í• 
  - **Hash**Router â†” **Browser**Routerë¡œ êµ¬ë¶„
  - HashRouter : **í•´ì‹œ ì£¼ì†Œ** ê°ì§€(#)
  - BrowserRouter : **HTML5ë¥¼ ì§€ì›í•˜ëŠ” ë¸Œë¼ìš°ì €ì˜ ì£¼ì†Œ** ê°ì§€

- ê³„íš
  - Home route : ëª¨ë“  ì˜í™”ì˜ ìš”ì•½ ì •ë³´
  - Detail route : íŠ¹ì • ì˜í™”ì˜ ìƒì„¸ ì •ë³´

<br />

### react-router-dom ì„¤ì¹˜

- **react-router-dom** : react routingì— í•„ìš”í•œ ì—¬ëŸ¬ componentë“¤ì˜ ì§‘í•©
- ìµœì‹ ë²„ì „ì´ ì•„ë‹Œ react-router-dom 5.3.0 ë²„ì „ì„ ì„¤ì¹˜

```bash
$ npm i react-router-dom@5.3.0
```

<br />

### ê¸°ë³¸ route ìƒì„±

> routes í´ë” ìƒì„±

- cra í´ë”ì˜ src í´ë” ë‚´ì— **routes** í´ë” ìƒì„±
- Home route(Home.js)ë¥¼ routes í´ë” ë‚´ì— ìƒì„±
- ê²½ë¡œ : ğŸ“‚BASE_DIR ğŸ“‚src ğŸ“‚routes ğŸ“ƒHome.js

<br />

> Home route

- ì§€ê¸ˆê¹Œì§€ App.jsì—ì„œ ì‘ì„±í•œ ëª¨ë“  ì½”ë“œë“¤ì€ Homeì— ëŒ€í•œ ì½”ë“œ
- renderí•˜ëŠ” Appì— ëŒ€í•œ ê¸°ë³¸ í˜•íƒœë§Œ ìœ ì§€í•˜ê³ , ë‚˜ë¨¸ì§€ëŠ” Home.jsë¡œ ì´ë™
- importë˜ì–´ ì‚¬ìš©ë˜ëŠ” componentë“¤ì˜ ê²½ë¡œë¥¼ ì •í™•íˆ í™•ì¸
- **export default Home;ì„ ê¼­ ì‘ì„±**í•˜ëŠ” ê²ƒì— ì£¼ì˜

<br />

> Detail route

í™”ë©´ ì „í™˜ë  ì˜í™” ìƒì„¸ í˜ì´ì§€ì˜ ìŠ¤ì¼ˆë ˆí†¤ í˜ì´ì§€ë¥¼ ë§Œë“ ë‹¤.

```js
function Detail() {
  return <h1>Detail</h1>;
}

export default Detail;
```

<br />

## React Routerì˜ ì‚¬ìš©

### import Components

```js
import { BrowserRouter as Router, Switch, Route } from "react-router-dom";
```

- ìœ„ì˜ ì½”ë“œë¥¼ ì…ë ¥í•´ ì„ íƒì ìœ¼ë¡œ componentë¥¼ import
- Linkë„ ì‚¬ìš©í•˜ëŠ”ë°, ë‹¹ì¥ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë‹ˆ ìƒëµ
- Linkì— ëŒ€í•´ì„œëŠ” í›„ìˆ í•˜ê² ë‹¤

<br />

### ë¬¸ë²•

> Componentë³„ ì˜ë¯¸

- Route : ë‚´ë¶€ì— renderingë  Componentë¥¼ ë‹´ê³ , URL pathë¥¼ ì§€ì •
- Switch : Routeë“¤ ê°„ì˜ renderingì„ êµí™˜ â†’ **í•œ ë²ˆì— í•˜ë‚˜ì˜ routeë§Œ render**
- Router : Switchë¥¼ ë‹´ìŒ

<br />

> Route path

- routeë§ˆë‹¤ ì‚¬ìš©í•  URLì˜ breadcrumbë¥¼ ì§€ì •
- ì‚¬ìš©í•  URLì„ pathì˜ ê°’ìœ¼ë¡œ ì‘ì„±
- ì°¸ê³ ìë£Œ : [reactrouter ê³µì‹ë¬¸ì„œ - Add Some Routes](https://reactrouter.com/docs/en/v6/getting-started/tutorial#add-some-routes)

```js
// movie Detail Routeë¥¼ ë³´ì—¬ì£¼ëŠ” path
<Route path="/movie"> 

// Home Routeë¥¼ ë³´ì—¬ì£¼ëŠ” path
<Route path="/">
```

<br />

> ì¢…í•© ì½”ë“œ

```js
function App() {
  return (
    <Router>
      {/* Switch : Route(URL)ë¥¼ ì°¾ëŠ” ì—­í•  */}
      <Switch>
        {/* Detail Route ì»´í¬ë„ŒíŠ¸ URL ì˜ë¯¸ */}
        <Route path="/movie">
          <Detail />
        </Route>

        {/* Home Route ì»´í¬ë„ŒíŠ¸ URL ì˜ë¯¸ */}
        <Route path="/">
          {/* Home Route ì»´í¬ë„ŒíŠ¸ render */}
          <Home />
        </Route>
      </Switch>
    </Router>
  );
}
```

<br />

### í˜ì´ì§€ ì „í™˜ : Link Component

> ê·¸ëƒ¥ a:linkì— hrefë¡œ '/movie'ë¥¼ ë‘ë©´ ì•ˆ ë˜ëŠ” ê±´ê°€ìš”?

- HTMLì²˜ëŸ¼ a:linkë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, **í˜ì´ì§€ê°€ ì¬ì‹¤í–‰**
- ReactëŠ” SPAì´ë¯€ë¡œ **ì´ë¥¼ ë°©ì§€**í•˜ë ¤ê³  í•˜ëŠ” ê²ƒì´ ì² í•™
- ì´ë¥¼ ìœ„í•´ ì¡´ì¬í•˜ëŠ” Componentê°€ ìˆë‹¤. **Link**!

<br />

### Link

- ìƒˆë¡œê³ ì¹¨ ì—†ì´ë„ ìœ ì €ë¥¼ ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ì´ë™ì‹œì¼œì£¼ëŠ” Component

> import 

```js
import { Link } from "react-router-dom";
```

Linkë¥¼ ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” route jsíŒŒì¼ì— import

<br />

> Link to

```js
// ê¸°ì¡´ ì½”ë“œ
<h2>{title}</h2>

// ê²½ë¡œ ì„¤ì •í•œ ì½”ë“œ
<h2>
  <Link to="/movie">{title}</Link>
</h2>
```

- App.jsì˜ Route Componentì—ì„œ ì§€ì •í•œ pathë¥¼ ì…ë ¥
- ì°¸ê³ ìë£Œ : [reactrouter ê³µì‹ë¬¸ì„œ - Add Some Links](https://reactrouter.com/docs/en/v6/getting-started/tutorial#add-some-links)